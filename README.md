# Ember CSS Routes

This is an Ember add-on to allow CSS files to be broken up and served based on routes, rather than forcing a single CSS file for the entire application on initial load.

## Usage

The add-on looks for and compiles all files named `styles` within your `app/styles` folder. These are mapped to route based on the folder structure.

Ex: `app/styles/planet/earth/styles.scss` will be output as `assets/profile/view/styles.css` and loaded on the `profile/view` route.

_Note: current version has been verified to work with `broccoli-sass` and normal CSS_

### Route Opt-out

The implementation attempts to load a stylesheet for _all_ routes. In order to opt-out of loading a stylesheet, simply add the property `noCSS: true` to that route. Example:

```javascript
export default Ember.Route.extend({
  noCSS: true
});
```

### Remove stylesheet on transition
Setting the parameter `enableRemoveCSSOnTransition` to `true` will remove the current style before transition to new route, ensuring that only one CSS file is loaded at a time in a route.

### Using The `beforeModel` Hook

With the current implementation, if you need to use the `beforeModel` hook on your route, you'll need to call `this._super()` from inside and return the promise generated by it. Otherwise, the CSS won't load.

Looking for a way to resolve this dependency currently.

### Using The `didTransition` action
With the current implementation, if you are using `enableRemoveCSSOnTransition` and you need to use the `didTransition` action on your route, you'll need to call `this.updateCurrentTransition()` from inside.
